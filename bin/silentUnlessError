#!/bin/bash

set -e

TMPFILE=$(mktemp --tmpdir "$(basename -- "$0")-XXXXXX" 2>/dev/null || echo "${TEMP:-/tmp}/$(basename -- "$0").$$")
cleanup()
{
    rm -f "$TMPFILE" 2>/dev/null
}
trap 'cleanup' INT TERM EXIT

eval "${@//[${IFS-$' \t\n'}]/\\ }" > "$TMPFILE" 2>&1 || cat "$TMPFILE"
